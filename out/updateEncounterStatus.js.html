<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: updateEncounterStatus.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: updateEncounterStatus.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// jshint node: true
// jshint browser: true
// jshint jquery: true
// jshint esversion: 6
"use strict";


/**
* @desc task 9 (project), Geosoft 1, SoSe 2019;
* application for updating the status of an encounter
*/



/**
* @desc updates the status of the encounter and gives feedback
* @param {String} id specifies the encounter which will be updated
*/
function ajaxCallUpdate(id){
	var formData = {
		real: document.getElementById('cb '+id).checked,
		id: document.getElementById('id '+id).value,
		originalRoute: document.getElementById('originalRoute '+id).value,
		comparedRoute: document.getElementById('comparedRoute '+id).value,
		encounterTyp: document.getElementById('typ '+id).value,
		changedValue: document.getElementById('value '+id).value,
	};

	$.ajax({
		url: 'api/encounter/update',
		type: 'POST',
		data: formData
	})
	.done (function( response) {
		// parse + use data here
		var real;
		if(response.real === 'true'){
			window.alert('Die berechnete Begegnung wurde erfolgreich als tatsächliche Begegnung in der Datenbank abgespeichert.');
			real = true;
		}
		else if(response.real === 'false'){
			window.alert('Die berechnete Begegnung wurde erfolgreich als theorethische (nicht-tatsächliche) Begegnung in der Datenbank abgespeichert.');
			real = false;
		}

		// change the checked status of the current checkbox
		document.getElementById('cb '+response.encounterId+response.originalRoute).checked = real;
		// if it is a self-encounter, the checkboxes from the two involved encounters have to be checked or not
		if(response.comparedRoute){
			document.getElementById('cb '+response.encounterId+response.comparedRoute).checked = real;
		}

	})
	.fail (function(xhr, status, errorThrown ) {
		console.log(errorThrown);
	});
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#ajaxCallFilter">ajaxCallFilter</a></li><li><a href="global.html#ajaxCallUpdate">ajaxCallUpdate</a></li><li><a href="global.html#ajaxOpenWeather">ajaxOpenWeather</a></li><li><a href="global.html#allChecked">allChecked</a></li><li><a href="global.html#allCheckedEncounter">allCheckedEncounter</a></li><li><a href="global.html#changeCoordinate">changeCoordinate</a></li><li><a href="global.html#changeCursor">changeCursor</a></li><li><a href="global.html#checkEncounters">checkEncounters</a></li><li><a href="global.html#copyText">copyText</a></li><li><a href="global.html#createButton">createButton</a></li><li><a href="global.html#createCheckbox">createCheckbox</a></li><li><a href="global.html#createContent">createContent</a></li><li><a href="global.html#createDetailsEncounter">createDetailsEncounter</a></li><li><a href="global.html#createElement">createElement</a></li><li><a href="global.html#createInformation">createInformation</a></li><li><a href="global.html#createMap">createMap</a></li><li><a href="global.html#createMapEncounters">createMapEncounters</a></li><li><a href="global.html#currentRoute">currentRoute</a></li><li><a href="global.html#deleteText">deleteText</a></li><li><a href="global.html#drawEncounters">drawEncounters</a></li><li><a href="global.html#drawEncountersOnMap">drawEncountersOnMap</a></li><li><a href="global.html#editAndShowPolyline">editAndShowPolyline</a></li><li><a href="global.html#editAndShowPolylineUpdate">editAndShowPolylineUpdate</a></li><li><a href="global.html#editExistingPolyline">editExistingPolyline</a></li><li><a href="global.html#editExistingPolylineUpdate">editExistingPolylineUpdate</a></li><li><a href="global.html#editPolyline">editPolyline</a></li><li><a href="global.html#geojson">geojson</a></li><li><a href="global.html#getCurrentTime">getCurrentTime</a></li><li><a href="global.html#getPolylineLeaflet">getPolylineLeaflet</a></li><li><a href="global.html#getTime">getTime</a></li><li><a href="global.html#goTofurtherInformation">goTofurtherInformation</a></li><li><a href="global.html#isCheckboxChecked">isCheckboxChecked</a></li><li><a href="global.html#isChecked">isChecked</a></li><li><a href="global.html#isCheckedEncounters">isCheckedEncounters</a></li><li><a href="global.html#isComplete">isComplete</a></li><li><a href="global.html#isGeoJSONLineString">isGeoJSONLineString</a></li><li><a href="global.html#layers">layers</a></li><li><a href="global.html#maps">maps</a></li><li><a href="global.html#popup">popup</a></li><li><a href="global.html#prettyTime">prettyTime</a></li><li><a href="global.html#routingControl">routingControl</a></li><li><a href="global.html#showNotValidGeoJSONPolyline">showNotValidGeoJSONPolyline</a></li><li><a href="global.html#uncheckEncounters">uncheckEncounters</a></li><li><a href="global.html#updateForm">updateForm</a></li><li><a href="global.html#updateText">updateText</a></li><li><a href="global.html#zoomIn">zoomIn</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Mon Sep 09 2019 13:37:21 GMT+0200 (GMT+02:00)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
